function str_ireplace(h,y,b,c){var u=0,q=0,x="",o="",w=0,g=0,v="",n="",l="",t="",a="",e="",m="",p="",d=b,k=Object.prototype.toString.call(d)==="[object Array]";if(typeof(h)==="object"){x=h;h=new Array();for(u=0;u<x.length;u+=1){h[u]=x[u].toLowerCase()}}else{h=h.toLowerCase()}if(typeof(b)==="object"){x=b;b=new Array();for(u=0;u<x.length;u+=1){b[u]=x[u].toLowerCase()}}else{b=b.toLowerCase()}if(typeof(h)==="object"&&typeof(y)==="string"){x=y;y=new Array();for(u=0;u<h.length;u+=1){y[u]=x}}x="";v=[].concat(h);n=[].concat(y);t=Object.prototype.toString.call(n)==="[object Array]";l=b;a=Object.prototype.toString.call(l)==="[object Array]";l=[].concat(l);d=[].concat(d);if(c){this.window[c]=0}for(u=0,w=l.length;u<w;u++){if(l[u]===""){continue}for(q=0,g=v.length;q<g;q++){x=l[u]+"";o=t?(n[q]!==undefined?n[q]:""):n[0];l[u]=(x).split(v[q]).join(o);e=d[u]+"";m=x.indexOf(v[q]);p=v[q].length;if(m>=0){d[u]=(e).split(e.substr(m,p)).join(o)}if(c){this.window[c]+=((x.split(v[q])).length-1)}}}return k?d:d[0]};